\documentclass{article}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{mathtools}
\usepackage[margin=1.5cm]{geometry}
\begin{document}

\section {Appendix: Recurrence Relations from Complex Sequences}

Consider the complex causal sequence $q[n]$ and its implicit scalar recurrence relation:

\begin{align*}
    q[n]&= e^{-jn\omega}\mu[n] \\ \\
        &= \delta[n] + e^{-j\omega}q[n - 1]
  \end{align*}\newline

The sequence generated by $e^{-jn\omega}$ can then be decomposed into three individual components:

\begin{align*}
    e^{-jn\omega}&= e^{-jn\omega}\bigg(\mu\big[-(n + 1)\big] + \mu[n]\bigg) \\ \\
                 &= e^{-jn\omega}\mu\big[-(n + 1)\big] + e^{-jn\omega}\mu[n] \\ \\
                 &= e^{j\omega}q^{*}\big[-(n + 1)\big] + q[n] \\ \\
                 &= e^{j\omega}q^{*}\big[-(n + 1)\big] + \delta[n] + e^{-j\omega}q[n - 1] \\ \\
                 &= \delta[n] + e^{-j\omega}q[n - 1] + e^{j\omega}q^{*}\big[-(n + 1)\big]
  \end{align*}\newline

The following outer product can then be expanded via this recurrence relation:

\begin{align*}
    & \quad \ \vec{q}[n] = \begin{bmatrix} q[n] \end{bmatrix}^{N} \\ \\
    & \Rightarrow \vec{q}[n]\vec{q}^{H}[n] = \begin{bmatrix} q[n] \end{bmatrix}^{N}\prescript{}{N}{\begin{bmatrix} q^{*}[n] \end{bmatrix}} \\ \\
    & \quad \quad \quad \quad \quad \ \ = \prescript{}{N}{\begin{bmatrix} q[n]q^{*}[m] \end{bmatrix}}^{N} \\ \\
    & \quad \quad \quad \quad \quad \ \ = \prescript{}{N}{\begin{bmatrix} q[n - m] \end{bmatrix}}^{N} \\ \\
    & \quad \quad \quad \quad \quad \ \ = \prescript{}{N}{\begin{bmatrix} \delta[n - m] + e^{-j\omega}q[n - m - 1] + e^{j\omega}q^{*}\big[-(n - m + 1)\big]\end{bmatrix}}^{N} \\ \\
    & \quad \quad \quad \quad \quad \ \ = \prescript{}{N}{\begin{bmatrix} \delta[n - m] \end{bmatrix}}^{N} + \big(e^{-j\omega}\big)\prescript{}{N}{\begin{bmatrix} q[n - m - 1] \end{bmatrix}}^{N} + \big(e^{j\omega}\big)\prescript{}{N}{\begin{bmatrix} q^{*}\big[-(n - m + 1)\big]\end{bmatrix}}^{N} \\ \\
    & \quad \quad \quad \quad \quad \ \ = I_{N} + e^{-j\omega}\begin{bmatrix}
                                                                    \vec{0} & \prescript{}{N - 1}{\begin{bmatrix} q[n - m] \end{bmatrix}}^{N - 1} \\ \\
                                                                         0  & \vec{0}^{T}
                                                                \end{bmatrix}
                                                + e^{ j\omega}\begin{bmatrix}
                                                                                                                                          \vec{0}^{T} &      0 \\ \\
                                                                    \prescript{}{N - 1}{\begin{bmatrix} q^{*}\big[-(n - m)\big]\end{bmatrix}}^{N - 1} & \vec{0}
                                                                \end{bmatrix} \\ \\
    & \quad \quad \quad \quad \quad \ \ = I_{N} + e^{-j\omega}\begin{bmatrix}
                                                                    \vec{0} & \prescript{}{N - 1}{\begin{bmatrix} q[n - m] \end{bmatrix}}^{N - 1} \\ \\
                                                                         0  & \vec{0}^{T}
                                                                \end{bmatrix}
                                                + e^{ j\omega}\begin{bmatrix}
                                                                    \vec{0} & \prescript{}{N - 1}{\begin{bmatrix} q[n - m]\end{bmatrix}}^{N - 1} \\ \\
                                                                         0  & \vec{0}^{T}
                                                                \end{bmatrix}^{H}
  \end{align*}\newpage

\begin{align*}
    &= I_{N} + e^{-j\omega}\begin{bmatrix}
                                \vec{0} & I_{N - 1} + e^{-j\omega}\prescript{}{N - 1}{\begin{bmatrix} q[n - m - 1] \end{bmatrix}}^{N - 1} \\ \\
                                     0  & \vec{0}^{T}
                             \end{bmatrix} \\ \\
    &\quad \quad \quad + e^{ j\omega}\begin{bmatrix}
                                            \vec{0} & I_{N - 1} + e^{-j\omega}\prescript{}{N - 1}{\begin{bmatrix} q[n - m - 1] \end{bmatrix}}^{N - 1} \\ \\
                                                 0  & \vec{0}^{T}
                                       \end{bmatrix}^{H} \\ \\
    &= I_{N} + e^{-j\omega}\begin{bmatrix}
                                \vec{0} & I_{N - 1} \\ \\
                                     0  & \vec{0}^{T}
                             \end{bmatrix} +
              e^{-2j\omega}\begin{bmatrix}
                                \vec{0} & \prescript{}{N - 1}{\begin{bmatrix} q[n - m - 1] \end{bmatrix}}^{N - 1} \\ \\
                                     0  & \vec{0}^{T}
                             \end{bmatrix} \\ \\
    &\quad \quad \quad + e^{j\omega}\begin{bmatrix}
                                           \vec{0} & I_{N - 1} \\ \\
                                                0  & \vec{0}^{T}
                                      \end{bmatrix}^{T} 
                      + e^{2j\omega}\begin{bmatrix}
                                           \vec{0} & \prescript{}{N - 1}{\begin{bmatrix} q[n - m - 1] \end{bmatrix}}^{N - 1} \\ \\
                                                0  & \vec{0}^{T}
                                      \end{bmatrix}^{H} \\ \\
    &= I_{N} + e^{-j\omega}\begin{bmatrix}
                                0_{N - 1, 1} & I_{N - 1} \\ \\
                                0_{    1, 1} & 0_{1, N - 1}
                             \end{bmatrix} +
              e^{-2j\omega}\begin{bmatrix}
                                0_{N - 2, 2} & \prescript{}{N - 2}{\begin{bmatrix} q[n - m] \end{bmatrix}}^{N - 2} \\ \\
                                0_{    2, 2} & 0_{2, N - 2}
                             \end{bmatrix} \\ \\
    &\quad \quad \quad + e^{j\omega}\begin{bmatrix}
                                           0_{N - 1, 1} & I_{N - 1} \\ \\
                                           0_{    1, 1} & 0_{1, N - 1}
                                      \end{bmatrix}^{T} 
                      + e^{2j\omega}\begin{bmatrix}
                                           0_{N - 2, 2} & \prescript{}{N - 2}{\begin{bmatrix} q[n - m] \end{bmatrix}}^{N - 2} \\ \\
                                           0_{    2, 2} & 0_{2, N - 2}
                                      \end{bmatrix}^{H} \\ \\
    &= I_{N} + e^{-j\omega}\begin{bmatrix}
                                0_{N - 1, 1} & I_{N - 1} \\ \\
                                0_{    1, 1} & 0_{1, N - 1}
                             \end{bmatrix} +
              e^{-2j\omega}\begin{bmatrix}
                                0_{N - 2, 2} & I_{N - 2} \\ \\
                                0_{    2, 2} & 0_{2, N - 2}
                             \end{bmatrix} +
              e^{-3j\omega}\begin{bmatrix}
                                0_{N - 3, 2} & \prescript{}{N - 3}{\begin{bmatrix} q[n - m] \end{bmatrix}}^{N - 3} \\ \\
                                0_{    3, 2} & 0_{3, N - 3}
                             \end{bmatrix}  \\ \\
    &\quad \quad \quad + e^{j\omega}\begin{bmatrix}
                                           0_{N - 1, 1} & I_{N - 1} \\ \\
                                           0_{    1, 1} & 0_{1, N - 1}
                                      \end{bmatrix}^{T} + 
                        e^{2j\omega}\begin{bmatrix}
                                           0_{N - 2, 2} & I_{N - 2} \\ \\
                                           0_{    2, 2} & 0_{2, N - 2}
                                      \end{bmatrix}^{T} + 
                        e^{3j\omega}\begin{bmatrix}
                                           0_{N - 3, 3} & \prescript{}{N - 3}{\begin{bmatrix} q[n - m] \end{bmatrix}}^{N - 3} \\ \\
                                           0_{    3, 3} & 0_{3, N - 3}
                                      \end{bmatrix}^{H} \\ \\
    &= I_{N} + \sum_{n = 1}^{N - 1}\begin{pmatrix}
                                        e^{-jn\omega}\begin{bmatrix}
                                                            0_{N - n, n} & I_{n} \\ \\
                                                            0_{    n, n} & 0_{n, N - n}
                                                       \end{bmatrix} +
                                        e^{ jn\omega}\begin{bmatrix}
                                                            0_{N - n, n} & I_{n} \\ \\
                                                            0_{    n, n} & 0_{n, N - n}
                                                       \end{bmatrix}^{T}
                                     \end{pmatrix} \\ \\
    &= I_{N} + \sum_{n = 1}^{N - 1}\bigg( e^{-jn\omega}R_{N, n} + e^{ jn\omega}R_{N, n}^{T} \bigg)
  \end{align*}

\newpage
\section {Appendix: Custom Notation for Element-wise Vector/Matrix-generating functions}

Take a generic discrete function $f[n]$. The column vector $\vec{v}$ (populated by applying $f[n]$ element-wise to each row in the vector as a function of the row) can be denoted below as such:

\begin{align*}
    \vec{v} = \begin{bmatrix} f[n] \end{bmatrix}^{N}
            = \begin{bmatrix} f[n] \end{bmatrix}^{n=N - 1}_{n=0}
            = \begin{bmatrix}
                    f[N - 1] \\ \\
                    f[N - 2] \\ \\
                    f[N - 3] \\ \\
                      \vdots \\ \\
                    f[    2] \\ \\
                    f[    1] \\ \\
                    f[    0] 
                \end{bmatrix}
  \end{align*}

Accordingly, the row vector $\vec{v}^{T}$ can be denoted below as such:

\begin{align*}
    \vec{v}^{T}&=   \prescript{}{N}{\begin{bmatrix} f[n] \end{bmatrix}} \ 
                = \ \prescript{}{n=N - 1}{\begin{bmatrix} f[n] \end{bmatrix}}_{n=0} \\ \\
               &= \begin{bmatrix} f[N - 1] & f[N - 2] & f[N - 3] & \ldots & f[2] & f[1] & f[0] \end{bmatrix} \\
  \end{align*} 

The matrix $M$ (populated by applying $f[n, m]$ elementwise to each row $n$ and column $m$ in the matrix as a function of $n$ and $m$) can be denoted below as such:

\begin{align*}
    M&=   \prescript{}{N}{\begin{bmatrix} f[n, m] \end{bmatrix}}^{N} \ 
      = \ \prescript{}{m = N - 1}{\begin{bmatrix} f[n, m] \end{bmatrix}}^{n = N - 1}_{n = 0,m =0} \\ \\
     &= \begin{bmatrix}
            f[N - 1, N - 1] & f[N - 1, N - 2] & f[N - 1, N - 3] & \ldots & f[N - 1, 2] & f[N - 1, 1] & f[N - 1, 0] \\ \\
            f[N - 2, N - 1] & f[N - 2, N - 2] & f[N - 2, N - 3] & \ldots & f[N - 2, 2] & f[N - 2, 1] & f[N - 2, 0] \\ \\
            f[N - 3, N - 1] & f[N - 3, N - 2] & f[N - 3, N - 3] & \ldots & f[N - 3, 2] & f[N - 3, 1] & f[N - 3, 0] \\ \\
                     \vdots &          \vdots &          \vdots & \ddots &      \vdots &      \vdots &      \vdots \\ \\
            f[    2, N - 1] & f[    2, N - 2] & f[    2, N - 3] & \ldots & f[    2, 2] & f[    2, 1] & f[    2, 0] \\ \\
            f[    1, N - 1] & f[    1, N - 2] & f[    1, N - 3] & \ldots & f[    1, 2] & f[    1, 1] & f[    1, 0] \\ \\
            f[    0, N - 1] & f[    0, N - 2] & f[    0, N - 3] & \ldots & f[    0, 2] & f[    0, 1] & f[    0, 0]
          \end{bmatrix} \\ \\
  \end{align*} 

\newpage

Sometimes, some matrices will have portions systematically populated by zeroes. In such cases, we can have the original function ($f[n, m]$) modified by another function as a sort of indicator function. For example, consider an upper triangular matrix $U$ where $f[n, m]$ is multiplied by a heaviside step function. $U$ can be denoted as such below:

\begin{align*}
    U&= \prescript{}{N}{\begin{bmatrix} g[n, m] \end{bmatrix}}^{N} \quad , \quad g(n, m) = f[n, m]\mu[n - m] \\ \\
     &= \begin{bmatrix}
            f[N - 1, N - 1] & f[N - 1, N - 2] & f[N - 1, N - 3] & \ldots & f[N - 1, 2] & f[N - 1, 1] & f[N - 1, 0] \\ \\
                          0 & f[N - 2, N - 2] & f[N - 2, N - 3] & \ldots & f[N - 2, 2] & f[N - 2, 1] & f[N - 2, 0] \\ \\
                          0 &               0 & f[N - 3, N - 3] & \ldots & f[N - 3, 2] & f[N - 3, 1] & f[N - 3, 0] \\ \\
                     \vdots &          \vdots &          \vdots & \ddots &      \vdots &      \vdots &      \vdots \\ \\
                          0 &               0 &               0 & \ldots & f[    2, 2] & f[    2, 1] & f[    2, 0] \\ \\
                          0 &               0 &               0 & \ldots &           0 & f[    1, 1] & f[    1, 0] \\ \\
                          0 &               0 &               0 & \ldots &           0 &           0 & f[    0, 0]
          \end{bmatrix} \\ \\
  \end{align*}

The inner product of $\vec{v}$ with itself can be denoted as such below:

\begin{align*}
    \vec{v}^{T}\vec{v} = \prescript{}{N}{\begin{bmatrix} f[n] \end{bmatrix}}\begin{bmatrix} f[n] \end{bmatrix}^{N}
                       = \prescript{}{n = N - 1}{\begin{bmatrix} f[n] \end{bmatrix}}_{n = 0}\begin{bmatrix} f[n] \end{bmatrix}^{n = N - 1}_{n = 0} = \sum^{n = N - 1}_{n = 0}f^{2}[n] \\ \\
  \end{align*}

The outer product of $\vec{v}$ with itself can be denoted as such below:

\begin{align*}
    \vec{v}\vec{v}^{T}&= \begin{bmatrix} f[n] \end{bmatrix}^{N}\prescript{}{N}{\begin{bmatrix} f[n] \end{bmatrix}}
                       = \begin{bmatrix} f[n] \end{bmatrix}^{n = N - 1}_{n = 0}\prescript{}{n = N - 1}{\begin{bmatrix} f[n] \end{bmatrix}}_{n = 0}
                       = \prescript{}{m = N - 1}{\begin{bmatrix} f[n]f[m] \end{bmatrix}}^{n = N - 1}_{n = 0, m = 0} \\ \\ 
                      &= \begin{bmatrix}
                            f[N - 1]f[N - 1] & f[N - 1]f[N - 2] & f[N - 1]f[N - 3] & \ldots & f[N - 1]f[2] & f[N - 1]f[1] & f[N - 1]f[0] \\ \\
                            f[N - 2]f[N - 1] & f[N - 2]f[N - 2] & f[N - 2]f[N - 3] & \ldots & f[N - 2]f[2] & f[N - 2]f[1] & f[N - 2]f[0] \\ \\
                            f[N - 3]f[N - 1] & f[N - 3]f[N - 2] & f[N - 3]f[N - 3] & \ldots & f[N - 3]f[2] & f[N - 3]f[1] & f[N - 3]f[0] \\ \\
                                      \vdots &           \vdots &           \vdots & \ddots &       \vdots &       \vdots &       \vdots \\ \\
                            f[    2]f[N - 1] & f[    2]f[N - 2] & f[    2]f[N - 3] & \ldots & f[    2]f[2] & f[    2]f[1] & f[    2]f[0] \\ \\
                            f[    1]f[N - 1] & f[    1]f[N - 2] & f[    1]f[N - 3] & \ldots & f[    1]f[2] & f[    1]f[1] & f[    1]f[0] \\ \\
                            f[    0]f[N - 1] & f[    0]f[N - 2] & f[    0]f[N - 3] & \ldots & f[    0]f[2] & f[    0]f[1] & f[    0]f[0]
                           \end{bmatrix} \\ \\ 
  \end{align*}

\end{document}
